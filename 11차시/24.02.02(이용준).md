# Definition
> 컴퓨터의 구성요소 중 중앙처리장치를 의미하며 프로그램을 처리하기 위한 연산장치이다.

___
# Structure Overview
![](processor_structure.png)
*전체적인 CPU 요약도*
## Register
- CPU 내부에서 명령어를 실행하기 위해 데이터를 임시로 저장하는 컴포넌트다.
- 주기억장치와 달리 CPU에 아주 가까이 있기 때문에 가장 빠른 기억장치다.

**제어 관련 레지스터**
- Program counter: 현재 실행하고 있는 명령어의 주소를 나타냄(경우에 따라 다음 주소를 가리킴)
- Instruction register: 현재 실행 중인 명령어 자체를 저장함
- Link register: 함수 호출이 끝나고 어디로 돌아갈지 저장해두는 레지스터
- Decoder: 명령어 레지스터의 내용을 해독하여 명령 실행을 위한 제어신호를 생성
- Control Register: CPU 동작을 제어함
- MAR: 메모리에 접근하기 위해서 임시로 메모리 주소를 기억해두는 공간 (read/write)
- MBR: 주기억장치와 CPU간 데이터를 전송하기 위해서 값을 임시로 저장해두는 공간

**연산 관련 레지스터**
- accumlator: 연산 결과를 임시 저장
- status register: 연산 결과에 따른 특수한 상태를 저장한다.(carry 발생, 부호, 오버플로 등등)
- shift register: 값을 shift 왼쪽, 오른쪽으로 옮기는 레지스터

**기타**
- stack pointer: 현재 스택의 위치를 나타내는 포인터, call stack등에서는 함수를 실행하고 끝마쳤을 때, 어디로 다시 돌아가기 위해서 sp를 기준으로 계산함
- GPR: 범용 레지스터: 용도가 정해지지 않았지만 필요한 경우 원하는 목적으로 임의로 사용할 수 있는 여유 레지스터

## Control Unit
제어장치인 CU는 아래의 과정을 통해 연산을 수행한다.

1. fetch
2. decode
3. execute

![](https://ars.els-cdn.com/content/image/3-s2.0-B9780123884367000039-f03-16-9780123884367.jpg)

Arm 아키텍처의 경우 위 3 과정을 처리하는 것을 별개의 하드웨어(유닛이라고 부름)가 맡아서 진행함에 따라 파이프라이닝이 가능해지고 <ins>퍼포먼스 최적화가 가능해진다</ins>.

# Bus
데이터가 지나가는 통로로 크게 3가지로 분류된다.
- Address bus
- Data bus
- Control bus

![](https://www.cs.emory.edu/~cheung/Courses/255/Syllabus/4-intro/FIGS/mem-access01c.gif)

한 가지 중요한 점은 위의 사진에서 볼 수 있듯 <ins>각각의 장치들이 같은 버스 라인들을 공유하기 때문에 충돌의 가능성이 있고, 이를 위해 충돌을 방지하기 위해서 한번에 1개의 장치만 버스를 점유하기 때문에 병목이 생기는 경우가 있다</ins>(CPU가 메모리에서 값을 읽어오려고 할 때 IO Device는 값을 전송하게 되면 충돌이 발생함으로 값이 전달될 때까지 대기한다.).
